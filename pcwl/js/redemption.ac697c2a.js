(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["redemption"],{"112c":function(t,e,n){"use strict";n("ffe2")},"1eac":function(t,e,n){"use strict";n("ab2b")},"332e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"redemption"},[i("mk-navbar",{attrs:{title:t.$t("redemption.text1")}}),i("div",{staticClass:"box"},[i("div",{staticClass:"logos"},[i("div",[i("img",{attrs:{src:n("90bd")}}),i("img",{attrs:{src:t.info.logo}})]),i("span",[t._v("TRX/"+t._s(t.info.symbol))])]),i("div",{staticClass:"info"},[i("div",[i("span",[t._v("TRX")]),i("span",{domProps:{textContent:t._s(t.info.trx)}})]),i("div",[i("span",[t._v(t._s(t.info.symbol))]),i("span",{domProps:{textContent:t._s(t.info.token)}})]),i("div",[i("span",[t._v(t._s(t.$t("redemption.text2")))]),i("span",{domProps:{textContent:t._s(t.info.lp)}})])]),i("div",{staticClass:"setting"},[i("span",[t._v(t._s(t.$t("redemption.text3")))]),i("span",[t._v(t._s(t.value)+"%")]),i("van-slider",{attrs:{"active-color":"#3C94FF","inactive-color":"#E4E4E4"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),i("div",{staticClass:"buttons"},[i("van-button",{attrs:{type:"info"},on:{click:function(e){t.value=25}}},[t._v("25%")]),i("van-button",{attrs:{type:"info"},on:{click:function(e){t.value=50}}},[t._v("50%")]),i("van-button",{attrs:{type:"info"},on:{click:function(e){t.value=75}}},[t._v("75%")]),i("van-button",{attrs:{type:"info"},on:{click:function(e){t.value=100}}},[t._v(t._s(t.$t("redemption.text4")))])],1)],1),i("div",{staticClass:"rate"},[i("span",[t._v(t._s(t.$t("redemption.text5"))+" 1ETH = 600.00000000 USDT")]),i("img",{attrs:{src:n("1b07")}})]),i("div",{staticClass:"coin"},[i("img",{attrs:{src:n("90bd")}}),i("span",[t._v(t._s(t.trx)+" TRX")])]),i("div",{staticClass:"coin"},[i("img",{attrs:{src:n("0f62")}}),i("span",[t._v(t._s(t.token)+" "+t._s(t.info.symbol))])]),i("div",{staticClass:"redemption-button"},[i("div",{staticClass:"setting",on:{click:t.openSetting}},[i("img",{attrs:{src:n("b012")}})]),i("van-button",{attrs:{type:"info"},on:{click:t.removeLiquidity}},[t._v(t._s(t.$t("redemption.text6")))])],1)]),i("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},s=[],o=(n("c975"),n("fb6a"),n("b680"),n("d3b7"),n("96cf"),n("1da1")),a=n("a981"),r=(n("3952"),{components:{"mk-navbar":function(){return Promise.all([n.e("redemption~transaction"),n.e("redemption")]).then(n.bind(null,"0861"))},"trading-setup":function(){return Promise.all([n.e("redemption~transaction"),n.e("redemption")]).then(n.bind(null,"0430"))}},data:function(){return{value:25,info:{logo:"",trx:0,token:0,lp:0,symbol:""},trx:0,token:0,deadline:600,pairAddress:"",lp:0,decimal:0}},created:function(){var t=JSON.parse(this.$route.query.info),e=t.logo,n=t.lp,i=t.trx,s=t.token,o=t.symbol,a=t.address,r=t.tokenDecimal;this.info={logo:e,symbol:o,lp:n.toFixed(4),trx:i.toFixed(4),token:s.toFixed(4)},this.lp=n,this.pairAddress=a,this.decimal=r,this.trx=(i/100*this.value).toFixed(4),this.token=(s/100*this.value).toFixed(4)},methods:{openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.deadline;this.deadline=e},removeLiquidity:function(){var t=this,e=tronWeb.contract(a,this.pairAddress),n=(this.lp/100*this.value).toSun(),i=n.indexOf("."),s=Math.floor((new Date).getTime()/1e3)+this.deadline;e.removeLiquidity(i>=0?n.slice(0,i):n,1,1,s).send().then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$loading(n);case 2:i=e.sent,i?vant.Toast.success("赎回成功！"):vant.Toast.fail("暂无可赎回额度！");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},watch:{value:function(){this.trx=(this.info.trx/100*this.value).toFixed(4),this.token=(this.info.token/100*this.value).toFixed(4)}}}),c=r,l=c,d=(n("1eac"),n("112c"),n("2877")),u=Object(d["a"])(l,i,s,!1,null,"00b550b4",null);e["default"]=u.exports},ab2b:function(t,e,n){},ffe2:function(t,e,n){}}]);